{"ast":null,"code":"import{useState,useEffect}from\"react\";import{getVerifiedProgramAlumni}from\"../api/Api\";import TabelBagikanProgramAlumni from\"../components/TabelBagikanProgramAlumni\";import{Container}from\"react-bootstrap\";import{useGlobal}from\"../context/GlobalContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function BagikanProgramAlumni(){const[program,setProgram]=useState([]);const[enabledStatus,setEnabledStatus]=useState({});const{globalData}=useGlobal();const username=globalData.username;useEffect(()=>{const fetchProgram=async()=>{try{const response=await getVerifiedProgramAlumni();const programArray=response.data.data;if(Array.isArray(programArray)){const programData=programArray.map(item=>({id:item.id,image:item.image,authorId:item.authorId,title:item.title,content:item.description,createdAt:item.createdAt,category:item.category,authorName:item.author.username,status:item.AlumniProgramStatus,isActive:item.isActive}));const storedStatus=JSON.parse(localStorage.getItem(\"enabledStatus\"))||{};const updatedStatus={};programData.forEach(item=>{var _storedStatus$item$id;updatedStatus[item.id]=(_storedStatus$item$id=storedStatus[item.id])!==null&&_storedStatus$item$id!==void 0?_storedStatus$item$id:item.isActive;});setEnabledStatus(updatedStatus);setProgram(programData);}else{console.error(\"Data yang diterima bukan array:\",programArray);}}catch(error){console.error(\"Error fetching program: \",error);}};fetchProgram();},[username]);useEffect(()=>{localStorage.setItem(\"enabledStatus\",JSON.stringify(enabledStatus));},[enabledStatus]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"BAGIKAN PROGRAM ALUMNI\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"custom-hr\"})]}),/*#__PURE__*/_jsx(TabelBagikanProgramAlumni,{program:program,enabledStatus:enabledStatus,setEnabledStatus:setEnabledStatus})]});}export default BagikanProgramAlumni;","map":{"version":3,"names":["useState","useEffect","getVerifiedProgramAlumni","TabelBagikanProgramAlumni","Container","useGlobal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BagikanProgramAlumni","program","setProgram","enabledStatus","setEnabledStatus","globalData","username","fetchProgram","response","programArray","data","Array","isArray","programData","map","item","id","image","authorId","title","content","description","createdAt","category","authorName","author","status","AlumniProgramStatus","isActive","storedStatus","JSON","parse","localStorage","getItem","updatedStatus","forEach","_storedStatus$item$id","console","error","setItem","stringify","children","className"],"sources":["/home/ubuntu/YARSI-Connect-Alumni-main/YARSI-Connect-Alumni-main/YARSI-Connect-Alumni/front-end/src/pages/BagikanProgramAlumni.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { getVerifiedProgramAlumni } from \"../api/Api\";\nimport TabelBagikanProgramAlumni from \"../components/TabelBagikanProgramAlumni\";\nimport { Container } from \"react-bootstrap\";\nimport { useGlobal } from \"../context/GlobalContext\";\n\nfunction BagikanProgramAlumni() {\n  const [program, setProgram] = useState([]);\n  const [enabledStatus, setEnabledStatus] = useState({});\n\n  const { globalData } = useGlobal(); \n  const username = globalData.username; \n\n  useEffect(() => {\n    const fetchProgram = async () => {\n      try {\n        const response = await getVerifiedProgramAlumni(); \n  \n        const programArray = response.data.data;\n  \n        if (Array.isArray(programArray)) {\n          const programData = programArray.map((item) => ({\n            id: item.id,\n            image: item.image,\n            authorId: item.authorId,\n            title: item.title,\n            content: item.description,\n            createdAt: item.createdAt,\n            category: item.category,\n            authorName: item.author.username,\n            status: item.AlumniProgramStatus,\n            isActive: item.isActive, \n          }));\n  \n          const storedStatus = JSON.parse(localStorage.getItem(\"enabledStatus\")) || {};\n          \n          const updatedStatus = {};\n          programData.forEach((item) => {\n            updatedStatus[item.id] = storedStatus[item.id] ?? item.isActive;\n          });\n  \n          setEnabledStatus(updatedStatus);\n          setProgram(programData); \n        } else {\n          console.error(\"Data yang diterima bukan array:\", programArray);\n        }\n      } catch (error) {\n        console.error(\"Error fetching program: \", error);\n      }\n    };\n  \n    fetchProgram();\n  }, [username]);\n  \n  useEffect(() => {\n    localStorage.setItem(\"enabledStatus\", JSON.stringify(enabledStatus));\n  }, [enabledStatus]);\n  \n\n  return (\n    <>\n      <Container>\n        <h1 className=\"text-center\">BAGIKAN PROGRAM ALUMNI</h1>\n        <hr className=\"custom-hr\" />\n      </Container>\n      <TabelBagikanProgramAlumni\n        program={program}\n        enabledStatus={enabledStatus}\n        setEnabledStatus={setEnabledStatus}\n      />\n    </>\n  );\n}\n\nexport default BagikanProgramAlumni;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,wBAAwB,KAAQ,YAAY,CACrD,MAAO,CAAAC,yBAAyB,KAAM,yCAAyC,CAC/E,OAASC,SAAS,KAAQ,iBAAiB,CAC3C,OAASC,SAAS,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErD,QAAS,CAAAC,oBAAoBA,CAAA,CAAG,CAC9B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEtD,KAAM,CAAEiB,UAAW,CAAC,CAAGZ,SAAS,CAAC,CAAC,CAClC,KAAM,CAAAa,QAAQ,CAAGD,UAAU,CAACC,QAAQ,CAEpCjB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAlB,wBAAwB,CAAC,CAAC,CAEjD,KAAM,CAAAmB,YAAY,CAAGD,QAAQ,CAACE,IAAI,CAACA,IAAI,CAEvC,GAAIC,KAAK,CAACC,OAAO,CAACH,YAAY,CAAC,CAAE,CAC/B,KAAM,CAAAI,WAAW,CAAGJ,YAAY,CAACK,GAAG,CAAEC,IAAI,GAAM,CAC9CC,EAAE,CAAED,IAAI,CAACC,EAAE,CACXC,KAAK,CAAEF,IAAI,CAACE,KAAK,CACjBC,QAAQ,CAAEH,IAAI,CAACG,QAAQ,CACvBC,KAAK,CAAEJ,IAAI,CAACI,KAAK,CACjBC,OAAO,CAAEL,IAAI,CAACM,WAAW,CACzBC,SAAS,CAAEP,IAAI,CAACO,SAAS,CACzBC,QAAQ,CAAER,IAAI,CAACQ,QAAQ,CACvBC,UAAU,CAAET,IAAI,CAACU,MAAM,CAACnB,QAAQ,CAChCoB,MAAM,CAAEX,IAAI,CAACY,mBAAmB,CAChCC,QAAQ,CAAEb,IAAI,CAACa,QACjB,CAAC,CAAC,CAAC,CAEH,KAAM,CAAAC,YAAY,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,EAAI,CAAC,CAAC,CAE5E,KAAM,CAAAC,aAAa,CAAG,CAAC,CAAC,CACxBrB,WAAW,CAACsB,OAAO,CAAEpB,IAAI,EAAK,KAAAqB,qBAAA,CAC5BF,aAAa,CAACnB,IAAI,CAACC,EAAE,CAAC,EAAAoB,qBAAA,CAAGP,YAAY,CAACd,IAAI,CAACC,EAAE,CAAC,UAAAoB,qBAAA,UAAAA,qBAAA,CAAIrB,IAAI,CAACa,QAAQ,CACjE,CAAC,CAAC,CAEFxB,gBAAgB,CAAC8B,aAAa,CAAC,CAC/BhC,UAAU,CAACW,WAAW,CAAC,CACzB,CAAC,IAAM,CACLwB,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAE7B,YAAY,CAAC,CAChE,CACF,CAAE,MAAO6B,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CAED/B,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEdjB,SAAS,CAAC,IAAM,CACd2C,YAAY,CAACO,OAAO,CAAC,eAAe,CAAET,IAAI,CAACU,SAAS,CAACrC,aAAa,CAAC,CAAC,CACtE,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAGnB,mBACEN,KAAA,CAAAE,SAAA,EAAA0C,QAAA,eACE5C,KAAA,CAACL,SAAS,EAAAiD,QAAA,eACR9C,IAAA,OAAI+C,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,wBAAsB,CAAI,CAAC,cACvD9C,IAAA,OAAI+C,SAAS,CAAC,WAAW,CAAE,CAAC,EACnB,CAAC,cACZ/C,IAAA,CAACJ,yBAAyB,EACxBU,OAAO,CAAEA,OAAQ,CACjBE,aAAa,CAAEA,aAAc,CAC7BC,gBAAgB,CAAEA,gBAAiB,CACpC,CAAC,EACF,CAAC,CAEP,CAEA,cAAe,CAAAJ,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}