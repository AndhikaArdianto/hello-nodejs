{"ast":null,"code":"import React,{useState}from\"react\";import{DataGrid,GridToolbar}from\"@mui/x-data-grid\";import{Button,Container,Modal}from\"react-bootstrap\";import{useNavigate}from\"react-router-dom\";import{useGlobal}from\"../context/GlobalContext\";import\"../styles/tabel.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DaftarAcara(_ref){let{daftarAcara}=_ref;const navigate=useNavigate();const{globalData}=useGlobal();const userRole=globalData.role;const[detailModalShow,setDetailModalShow]=useState(false);const[selectedAcara,setSelectedAcara]=useState(null);const handleShowDetail=acara=>{setSelectedAcara(acara);setDetailModalShow(true);};const handleCloseDetailModal=()=>setDetailModalShow(false);if(!Array.isArray(daftarAcara)){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}// Define columns for DataGrid\nconst columns=[{field:\"title\",headerName:\"Judul Acara\",width:300,headerAlign:\"center\",renderCell:params=>/*#__PURE__*/_jsx(\"span\",{style:{cursor:\"pointer\"},onClick:()=>handleShowDetail(params.row),children:params.value.length>100?\"\".concat(params.value.substring(0,100),\"...\"):params.value})},{field:\"authorName\",headerName:\"Penulis\",width:160,headerAlign:\"center\",renderCell:params=>/*#__PURE__*/_jsx(\"span\",{style:{cursor:\"pointer\"},onClick:()=>handleShowDetail(params.row),children:params.value})},{field:\"image\",headerName:\"Foto\",width:150,headerAlign:\"center\",renderCell:params=>params.value&&/*#__PURE__*/_jsx(\"div\",{className:\"data-grid-img\",style:{cursor:\"pointer\"},onClick:()=>handleShowDetail(params.row),children:/*#__PURE__*/_jsx(\"img\",{src:params.value,alt:params.row.title,style:{width:\"90px\",height:\"70px\",objectFit:\"cover\"}})})},{field:\"content\",headerName:\"Deskripsi\",width:400,headerAlign:\"center\",renderCell:params=>/*#__PURE__*/_jsx(\"span\",{style:{cursor:\"pointer\"},onClick:()=>handleShowDetail(params.row),children:params.value.length>100?\"\".concat(params.value.substring(0,100),\"...\"):params.value})},{field:\"date\",headerName:\"Tanggal Acara\",width:160,headerAlign:\"center\",cellClassName:\"data-grid-date\",// Menambahkan class CSS untuk kolom tanggal\nrenderCell:params=>/*#__PURE__*/_jsx(\"span\",{style:{cursor:\"pointer\"},onClick:()=>handleShowDetail(params.row),children:params.value})},...(userRole===\"admin_universitas\"?[{field:\"action\",headerName:\"Perbarui\",width:120,headerAlign:\"center\",renderCell:params=>/*#__PURE__*/_jsx(\"div\",{className:\"data-grid-action\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-pen-to-square\",onClick:()=>navigate(\"/perbarui-acara/\".concat(params.row.id))})})}]:[])];return/*#__PURE__*/_jsxs(Container,{className:\"mt-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"500px\",width:\"100%\"},children:/*#__PURE__*/_jsx(DataGrid,{rows:daftarAcara,columns:columns,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:true,disableColumnFilter:true,disableColumnSelector:true,disableDensitySelector:true,slots:{toolbar:GridToolbar},slotProps:{toolbar:{showQuickFilter:true,quickFilterProps:{debounceMs:500}}}})}),/*#__PURE__*/_jsxs(Modal,{show:detailModalShow,onHide:handleCloseDetailModal,size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Detail Acara\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:selectedAcara===null||selectedAcara===void 0?void 0:selectedAcara.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"Dibuat oleh: \",selectedAcara===null||selectedAcara===void 0?void 0:selectedAcara.authorName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tanggal Acara:\"}),\" \",selectedAcara===null||selectedAcara===void 0?void 0:selectedAcara.date]}),(selectedAcara===null||selectedAcara===void 0?void 0:selectedAcara.image)&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mb-5\",children:/*#__PURE__*/_jsx(\"img\",{src:selectedAcara.image,alt:selectedAcara.title,style:{width:\"50%\",maxHeight:\"400px\",objectFit:\"contain\"}})}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"justify\"},children:selectedAcara===null||selectedAcara===void 0?void 0:selectedAcara.content})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseDetailModal,children:\"Tutup\"})})]})]});}export default DaftarAcara;","map":{"version":3,"names":["React","useState","DataGrid","GridToolbar","Button","Container","Modal","useNavigate","useGlobal","jsx","_jsx","jsxs","_jsxs","DaftarAcara","_ref","daftarAcara","navigate","globalData","userRole","role","detailModalShow","setDetailModalShow","selectedAcara","setSelectedAcara","handleShowDetail","acara","handleCloseDetailModal","Array","isArray","children","columns","field","headerName","width","headerAlign","renderCell","params","style","cursor","onClick","row","value","length","concat","substring","className","src","alt","title","height","objectFit","cellClassName","id","rows","pageSize","rowsPerPageOptions","disableSelectionOnClick","disableColumnFilter","disableColumnSelector","disableDensitySelector","slots","toolbar","slotProps","showQuickFilter","quickFilterProps","debounceMs","show","onHide","size","centered","Header","closeButton","Title","Body","authorName","date","image","maxHeight","textAlign","content","Footer","variant"],"sources":["/home/ubuntu/YARSI-Connect-Alumni-main/YARSI-Connect-Alumni-main/YARSI-Connect Alumni/front-end/src/components/DaftarAcara.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { DataGrid, GridToolbar } from \"@mui/x-data-grid\";\nimport { Button, Container, Modal } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useGlobal } from \"../context/GlobalContext\";\nimport \"../styles/tabel.css\";\n\nfunction DaftarAcara({ daftarAcara }) {\n  const navigate = useNavigate();\n  const { globalData } = useGlobal();\n  const userRole = globalData.role;\n\n  const [detailModalShow, setDetailModalShow] = useState(false);\n  const [selectedAcara, setSelectedAcara] = useState(null);\n\n  const handleShowDetail = (acara) => {\n    setSelectedAcara(acara);\n    setDetailModalShow(true);\n  };\n\n  const handleCloseDetailModal = () => setDetailModalShow(false);\n\n  if (!Array.isArray(daftarAcara)) {\n    return <div>Loading...</div>;\n  }\n\n  // Define columns for DataGrid\n  const columns = [\n    {\n      field: \"title\",\n      headerName: \"Judul Acara\",\n      width: 300,\n      headerAlign: \"center\",\n      renderCell: (params) => (\n        <span\n          style={{ cursor: \"pointer\" }}\n          onClick={() => handleShowDetail(params.row)}\n        >\n          {params.value.length > 100\n            ? `${params.value.substring(0, 100)}...`\n            : params.value}\n        </span>\n      ),\n    },\n    {\n      field: \"authorName\",\n      headerName: \"Penulis\",\n      width: 160,\n      headerAlign: \"center\",\n      renderCell: (params) => (\n        <span\n          style={{ cursor: \"pointer\" }}\n          onClick={() => handleShowDetail(params.row)}\n        >\n          {params.value}\n        </span>\n      ),\n    },\n    {\n      field: \"image\",\n      headerName: \"Foto\",\n      width: 150,\n      headerAlign: \"center\",\n      renderCell: (params) =>\n        params.value && (\n          <div\n            className=\"data-grid-img\"\n            style={{ cursor: \"pointer\" }}\n            onClick={() => handleShowDetail(params.row)}\n          >\n            <img\n              src={params.value}\n              alt={params.row.title}\n              style={{ width: \"90px\", height: \"70px\", objectFit: \"cover\" }}\n            />\n          </div>\n        ),\n    },\n    {\n      field: \"content\",\n      headerName: \"Deskripsi\",\n      width: 400,\n      headerAlign: \"center\",\n      renderCell: (params) => (\n        <span\n          style={{ cursor: \"pointer\" }}\n          onClick={() => handleShowDetail(params.row)}\n        >\n          {params.value.length > 100\n            ? `${params.value.substring(0, 100)}...`\n            : params.value}\n        </span>\n      ),\n    },\n    {\n      field: \"date\",\n      headerName: \"Tanggal Acara\",\n      width: 160,\n      headerAlign: \"center\",\n      cellClassName: \"data-grid-date\", // Menambahkan class CSS untuk kolom tanggal\n      renderCell: (params) => (\n        <span\n          style={{ cursor: \"pointer\" }}\n          onClick={() => handleShowDetail(params.row)}\n        >\n          {params.value}\n        </span>\n      ),\n    },\n    ...(userRole === \"admin_universitas\"\n      ? [\n          {\n            field: \"action\",\n            headerName: \"Perbarui\",\n            width: 120,\n            headerAlign: \"center\",\n            renderCell: (params) => (\n              <div className=\"data-grid-action\">\n                <i\n                  className=\"fa-regular fa-pen-to-square\"\n                  onClick={() => navigate(`/perbarui-acara/${params.row.id}`)}\n                ></i>\n              </div>\n            ),\n          },\n        ]\n      : []),\n  ];\n\n  return (\n    <Container className=\"mt-4 mb-4\">\n      <div style={{ height: \"500px\", width: \"100%\" }}>\n        <DataGrid\n          rows={daftarAcara}\n          columns={columns}\n          pageSize={10}\n          rowsPerPageOptions={[10, 25, 50]}\n          disableSelectionOnClick\n          disableColumnFilter\n          disableColumnSelector\n          disableDensitySelector\n          slots={{ toolbar: GridToolbar }}\n          slotProps={{\n            toolbar: {\n              showQuickFilter: true,\n              quickFilterProps: { debounceMs: 500 },\n            },\n          }}\n        />\n      </div>\n\n      <Modal\n        show={detailModalShow}\n        onHide={handleCloseDetailModal}\n        size=\"lg\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{\"Detail Acara\"}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3 className=\"text-center\">{selectedAcara?.title}</h3>\n          <p className=\"text-center\">\n            Dibuat oleh: {selectedAcara?.authorName}\n          </p>\n          <p className=\"text-center\">\n            <strong>Tanggal Acara:</strong> {selectedAcara?.date}\n          </p>\n          {selectedAcara?.image && (\n            <div className=\"d-flex justify-content-center mb-5\">\n              <img\n                src={selectedAcara.image}\n                alt={selectedAcara.title}\n                style={{\n                  width: \"50%\",\n                  maxHeight: \"400px\",\n                  objectFit: \"contain\",\n                }}\n              />\n            </div>\n          )}\n          <p style={{ textAlign: \"justify\" }}>{selectedAcara?.content}</p>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleCloseDetailModal}>\n            Tutup\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n}\n\nexport default DaftarAcara;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}