{"ast":null,"code":"var _jsxFileName = \"C:\\\\Koneksi alumni\\\\YARSI-Connect-Alumni-main\\\\YARSI-Connect-Alumni-main\\\\YARSI-Connect Alumni\\\\front-end\\\\src\\\\pages\\\\ManajemenBerita.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { getMyNews } from \"../api/Api\";\nimport DaftarBerita from \"../components/DaftarBerita\";\nimport { useGlobal } from \"../context/GlobalContext\";\nimport { Container } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ManajemenBerita() {\n  _s();\n  const {\n    globalData\n  } = useGlobal();\n  const username = globalData === null || globalData === void 0 ? void 0 : globalData.username;\n  const [berita, setBerita] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchBerita = async () => {\n      setLoading(true);\n      try {\n        var _response$data;\n        const response = await getMyNews();\n        const beritaArray = (response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data) || [];\n        if (Array.isArray(beritaArray)) {\n          const beritaData = beritaArray.filter(item => item.authorName === username).map(item => ({\n            id: item.id,\n            image: item.image,\n            title: item.title,\n            content: item.content,\n            createdAt: item.createdAt,\n            authorName: item.authorName\n          }));\n          setBerita(beritaData);\n        } else {\n          console.error(\"Data yang diterima bukan array:\", beritaArray);\n        }\n      } catch (err) {\n        setError(\"Gagal memuat berita, silakan coba lagi.\");\n        console.error(\"Error fetching berita:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBerita();\n  }, [username]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"MANAJEMEN BERITA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"custom-hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DaftarBerita, {\n      daftarBerita: berita\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ManajemenBerita, \"7xXBjzzqT2de2WmJHZLWT27h9nM=\", false, function () {\n  return [useGlobal];\n});\n_c = ManajemenBerita;\nexport default ManajemenBerita;\nvar _c;\n$RefreshReg$(_c, \"ManajemenBerita\");","map":{"version":3,"names":["useState","useEffect","getMyNews","DaftarBerita","useGlobal","Container","jsxDEV","_jsxDEV","Fragment","_Fragment","ManajemenBerita","_s","globalData","username","berita","setBerita","loading","setLoading","error","setError","fetchBerita","_response$data","response","beritaArray","data","Array","isArray","beritaData","filter","item","authorName","map","id","image","title","content","createdAt","console","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","daftarBerita","_c","$RefreshReg$"],"sources":["C:/Koneksi alumni/YARSI-Connect-Alumni-main/YARSI-Connect-Alumni-main/YARSI-Connect Alumni/front-end/src/pages/ManajemenBerita.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { getMyNews } from \"../api/Api\";\nimport DaftarBerita from \"../components/DaftarBerita\";\nimport { useGlobal } from \"../context/GlobalContext\";\nimport { Container } from \"react-bootstrap\";\n\nfunction ManajemenBerita() {\n  const { globalData } = useGlobal();\n  const username = globalData?.username;\n\n  const [berita, setBerita] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchBerita = async () => {\n      setLoading(true);\n      try {\n        const response = await getMyNews();\n        const beritaArray = response?.data?.data || [];\n        if (Array.isArray(beritaArray)) {\n          const beritaData = beritaArray\n            .filter((item) => item.authorName === username)\n            .map((item) => ({\n              id: item.id,\n              image: item.image,\n              title: item.title,\n              content: item.content,\n              createdAt: item.createdAt,\n              authorName: item.authorName,\n            }));\n          setBerita(beritaData);\n        } else {\n          console.error(\"Data yang diterima bukan array:\", beritaArray);\n        }\n      } catch (err) {\n        setError(\"Gagal memuat berita, silakan coba lagi.\");\n        console.error(\"Error fetching berita:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBerita();\n  }, [username]);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>{error}</div>;\n\n  return (\n    <>\n      <Container>\n        <h1 className=\"text-center\">MANAJEMEN BERITA</h1>\n        <hr className=\"custom-hr\" />\n      </Container>\n      <DaftarBerita daftarBerita={berita} />\n    </>\n  );\n}\n\nexport default ManajemenBerita;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}